---
import Layout from "@/layouts/Layout.astro";
import Container from "@/components/container.astro";
import { Icon } from "astro-icon/components";
import { MagneticButton } from "@/components/ExperienceInteractive";
import SkillsAnimations from "@/components/SkillsAnimations.astro";
import skillsData from "@/data/skills.json";

const categoryIcons = {
  "Frontend": "bx:bx-palette",
  "Backend": "bx:bx-server",
  "App Development": "bx:bx-mobile-alt",
  "Open Source & Soft Skills": "bx:bx-group"
};

const categoryColors = {
  "Frontend": "from-blue-500 to-cyan-500",
  "Backend": "from-green-500 to-emerald-500",
  "App Development": "from-purple-500 to-pink-500",
  "Open Source & Soft Skills": "from-orange-500 to-red-500"
};
---

<Layout title="Skills">
  <!-- Hero Section -->
  <section class="relative py-20 overflow-hidden">
    <div class="absolute inset-0 bg-gradient-to-br from-indigo-50 via-white to-cyan-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900"></div>
    <div class="absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg width="100" height="100" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="%236366f1" fill-opacity="0.03"%3E%3Cpolygon points="50 0 60 40 100 50 60 60 50 100 40 60 0 50 40 40"/%3E%3C/g%3E%3C/svg%3E')] opacity-40"></div>
    
    <Container>
      <div class="relative text-center mb-16">
        <div class="inline-block animate-float">
          <div class="w-20 h-20 mx-auto mb-6 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-2xl morph-blob">
            <Icon name="bx:bx-code-curly" class="w-10 h-10 text-white" />
          </div>
        </div>
        <h1 class="text-5xl md:text-7xl font-bold text-gradient-animated mb-6 animate-slide-up">
          Skills & Expertise
        </h1>
        <p class="text-xl text-slate-600 dark:text-slate-300 max-w-2xl mx-auto leading-relaxed animate-slide-up" style="animation-delay: 0.2s">
          A comprehensive toolkit spanning frontend, backend, mobile development, and collaborative excellence.
        </p>
      </div>
    </Container>
  </section>

  <!-- Skills Grid -->
  <section class="py-20 relative">
    <Container>
      <div class="max-w-6xl mx-auto">
        <div class="grid lg:grid-cols-2 gap-8">
          {Object.entries(skillsData).map(([category, items], categoryIndex) => (
            <div class={`group relative animate-slide-up stagger-${categoryIndex + 1}`}>
              <!-- Glass Card -->
              <div class="relative bg-white/70 dark:bg-slate-800/70 backdrop-blur-xl rounded-3xl p-8 shadow-2xl border border-white/20 dark:border-slate-700/50 hover:shadow-3xl transition-all duration-500 hover:-translate-y-2 skill-card overflow-hidden">
                
                <!-- Gradient Border Effect -->
                <div class={`absolute inset-0 bg-gradient-to-r ${categoryColors[category]} rounded-3xl opacity-0 group-hover:opacity-10 transition-opacity duration-500 -z-10 blur-xl`}></div>
                
                <!-- Header -->
                <div class="flex items-center gap-4 mb-6">
                  <div class={`w-12 h-12 rounded-2xl bg-gradient-to-r ${categoryColors[category]} flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300`}>
                    <Icon name={categoryIcons[category]} class="w-6 h-6 text-white" />
                  </div>
                  <h3 class="text-2xl font-bold text-slate-900 dark:text-white group-hover:text-transparent group-hover:bg-gradient-to-r group-hover:bg-clip-text group-hover:from-indigo-600 group-hover:to-purple-600 transition-all duration-300">
                    {category}
                  </h3>
                </div>
                
                <!-- Skills Grid -->
                <div class="grid grid-cols-2 sm:grid-cols-3 gap-3">
                  {items.map((skill, skillIndex) => (
                    <div class={`group/skill relative animate-scale-in`} style={`animation-delay: ${(categoryIndex * 0.2) + (skillIndex * 0.1)}s`}>
                      <div class="relative px-4 py-3 bg-gradient-to-r from-white to-slate-50 dark:from-slate-700 dark:to-slate-600 rounded-xl shadow-sm border border-slate-200/50 dark:border-slate-600/50 hover:shadow-lg transition-all duration-300 hover:scale-105 skill-tag">
                        <div class={`absolute inset-0 bg-gradient-to-r ${categoryColors[category]} rounded-xl opacity-0 group-hover/skill:opacity-20 transition-opacity duration-300`}></div>
                        <span class="relative text-sm font-medium text-slate-700 dark:text-slate-200 group-hover/skill:text-slate-900 dark:group-hover/skill:text-white transition-colors duration-300">
                          {skill}
                        </span>
                        <!-- Hover Glow -->
                        <div class={`absolute -inset-1 bg-gradient-to-r ${categoryColors[category]} rounded-xl opacity-0 group-hover/skill:opacity-30 blur transition-opacity duration-300 -z-10`}></div>
                      </div>
                    </div>
                  ))}
                </div>
                
                <!-- Skill Count Badge -->
                <div class="absolute top-4 right-4 px-3 py-1 bg-slate-900/10 dark:bg-white/10 backdrop-blur-sm rounded-full">
                  <span class="text-xs font-semibold text-slate-600 dark:text-slate-300">
                    {items.length} skills
                  </span>
                </div>
                
                <!-- Animated Background Pattern -->
                <div class="absolute inset-0 opacity-5 dark:opacity-10">
                  <div class={`w-full h-full bg-gradient-to-br ${categoryColors[category]} rounded-3xl animate-pulse`}></div>
                </div>
              </div>
            </div>
          ))}
        </div>
      </div>
    </Container>
  </section>

  <!-- Stats Section -->
  <section class="py-20 relative overflow-hidden">
    <div class="absolute inset-0 liquid-bg"></div>
    <div class="absolute inset-0 bg-black/20"></div>
    
    <Container>
      <div class="relative text-center text-white">
        <h2 class="text-4xl md:text-5xl font-bold mb-12 animate-slide-up">
          By the Numbers
        </h2>
        
        <div class="grid grid-cols-2 md:grid-cols-4 gap-8 max-w-4xl mx-auto">
          <div class="animate-bounce-in stagger-1">
            <div class="text-4xl md:text-5xl font-bold mb-2">
              {Object.values(skillsData).flat().length}+
            </div>
            <p class="text-lg opacity-90">Total Skills</p>
          </div>
          <div class="animate-bounce-in stagger-2">
            <div class="text-4xl md:text-5xl font-bold mb-2">
              {Object.keys(skillsData).length}
            </div>
            <p class="text-lg opacity-90">Categories</p>
          </div>
          <div class="animate-bounce-in stagger-3">
            <div class="text-4xl md:text-5xl font-bold mb-2">
              3+
            </div>
            <p class="text-lg opacity-90">Years Learning</p>
          </div>
          <div class="animate-bounce-in stagger-4">
            <div class="text-4xl md:text-5xl font-bold mb-2">
              10+
            </div>
            <p class="text-lg opacity-90">Projects Built</p>
          </div>
        </div>
      </div>
    </Container>
  </section>

  <!-- CTA Section -->
  <section class="py-20">
    <Container>
      <div class="text-center">
        <h2 class="text-3xl md:text-4xl font-bold mb-6 animate-slide-up">
          Ready to Build Something Amazing?
        </h2>
        <p class="text-xl text-slate-600 dark:text-slate-300 mb-8 animate-slide-up" style="animation-delay: 0.2s">
          Let's collaborate and bring your ideas to life with these skills.
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center animate-slide-up" style="animation-delay: 0.4s">
          <MagneticButton 
            href="/project" 
            className="group inline-flex items-center gap-3 px-8 py-4 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-2xl font-semibold hover:shadow-2xl transition-all duration-300"
            client:load
          >
            <Icon name="bx:bx-folder-open" class="w-5 h-5 group-hover:rotate-12 transition-transform duration-300" />
            View Projects
          </MagneticButton>
          <MagneticButton 
            href="/contact" 
            className="group inline-flex items-center gap-3 px-8 py-4 bg-transparent border-2 border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-2xl font-semibold hover:bg-slate-100 dark:hover:bg-slate-800 transition-all duration-300"
            client:load
          >
            <Icon name="bx:bx-message-dots" class="w-5 h-5 group-hover:scale-110 transition-transform duration-300" />
            Get In Touch
          </MagneticButton>
        </div>
      </div>
    </Container>
  </section>
  
  <SkillsAnimations />
</Layout>
