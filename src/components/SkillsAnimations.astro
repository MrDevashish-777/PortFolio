---
// Skills page specific animations and interactions
---

<script>
  function initSkillsAnimations() {
    const cards = Array.from(document.querySelectorAll('.skill-card'));

    // Prepare tags: hide and set transition
    cards.forEach((card) => {
      const tags = card.querySelectorAll('.skill-tag');
      tags.forEach((tag) => {
        tag.style.transform = 'scale(0.85)';
        tag.style.opacity = '0';
        tag.style.transition = 'all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)';
      });
    });

    // Staggered reveal for cards and their tags
    cards.forEach((card, index) => {
      setTimeout(() => {
        card.classList.add('animate-in');
        const tags = card.querySelectorAll('.skill-tag');
        tags.forEach((tag, ti) => {
          setTimeout(() => {
            tag.style.transform = 'scale(1)';
            tag.style.opacity = '1';
          }, ti * 50);
        });
      }, index * 150);
    });
  }

  if (typeof document !== 'undefined') {
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initSkillsAnimations);
    } else {
      initSkillsAnimations();
    }

    // Re-initialize on page transitions
    document.addEventListener('astro:page-load', initSkillsAnimations);
  }
</script>

      <style>
        /* Skills page specific styles */
        .skill-card {
          opacity: 0;
          transform: translateY(30px);
          transition: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .skill-card.animate-in {
          opacity: 1;
          transform: translateY(0);
        }

        .skill-tag {
          cursor: pointer;
          position: relative;
          overflow: hidden;
        }

        .skill-tag::before {
          content: '';
          position: absolute;
          top: 0;
          left: -100%;
          width: 100%;
          height: 100%;
          background: linear-gradient(
            90deg,
            transparent,
            rgba(255, 255, 255, 0.2),
            transparent
          );
          transition: left 0.5s;
        }

        .skill-tag:hover::before {
          left: 100%;
        }

        /* Enhanced floating animation */
        @keyframes float-subtle {
          0%, 100% {
            transform: translateY(0px);
          }
          50% {
            transform: translateY(-3px);
          }
        }

        .skill-tag {
          animation: float-subtle 4s ease-in-out infinite;
        }

        /* Glowing border effect */
        .skill-card::after {
          content: '';
          position: absolute;
          inset: -2px;
          border-radius: inherit;
          padding: 2px;
          background: linear-gradient(45deg, transparent, rgba(99, 102, 241, 0.3), transparent);
          mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
          mask-composite: exclude;
          opacity: 0;
          transition: opacity 0.3s;
        }

        .skill-card:hover::after {
          opacity: 1;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
          .skill-card {
            margin-bottom: 1rem;
          }
        }
      </style>